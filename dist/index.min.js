"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){var e={},t={},n=0,r=0,o={},i=["method"],a={error:"",loading:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA="},u={getRandomKey:function(){return"vue-lazy-"+(Math.random()+"").replace(/\D/g,"")}},f={setAttr:function(e,t,n){if("class"===t){var r=e.getAttribute(t);e.setAttribute(t,r+" "+n)}else if("src"===t){var o=new Image;o.onload=function(){e.setAttribute(t,n)},o.src=n,o.onerror=function(){a.error&&e.setAttribute(t,a.error)}}else e.setAttribute(t,n)},setFunc:function(e){e&&e()}};window.Block&&!window.Block.vueLazyProcess&&(o=window.Block.vueLazyProcess={}),t._keepTimer=function(){0===r&&(r=setInterval(function(){n=0;for(var e in o)if(o.hasOwnProperty(e)){var t=o[e],i=t.dom.getBoundingClientRect().top,a=t.dom.getBoundingClientRect().left;i-450<window.innerHeight&&a-450<window.innerWidth?(t.callback(),delete o[e]):n++}0===n&&(clearInterval(r),r=0)},350))},t.set=function(e,n){var r=e["vue-lazy-id"];return!o.hasOwnProperty(r)&&e&&e.nodeType&&"function"==typeof n&&(o[r]={dom:e,callback:n},t._keepTimer()),r},e.install=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var r in n)n.hasOwnProperty(r)&&(a[r]=n[r]);e.directive("lazy",{bind:function(e,n){var r=n.arg,o=n.value,c=-1===i.indexOf(r);if(c&&"function"==typeof n.value||!n.arg)return console.error("[Vue warn]: Invalid parameter, Expected String or number.");if(!c&&"function"!=typeof n.value)return console.error("[Vue warn]: Invalid parameter, Expected function.");e.hasOwnProperty("vue-lazy-id")||(e["vue-lazy-id"]=u.getRandomKey()),c&&"src"===r&&"img"===e.tagName.toLowerCase()&&f.setAttr(e,r,a.loading);var d=function(){if(!c)return void f.setFunc(o);f.setAttr(e,r,o)};t.set(e,d)},update:function(e,n){var r=n.arg,a=n.value,u=e["vue-lazy-id"];if(o.hasOwnProperty(u)){var c=function(){if(i.indexOf(r)>-1)return void f.setFunc(a);f.setAttr(e,r,a)};t.set(e,c)}},unbind:function(e){var t=e["vue-lazy-id"];delete o[t]}})},"object"==("undefined"==typeof exports?"undefined":_typeof(exports))?module.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.Vue&&(window.vueLazy=e,Vue.use(e))}();